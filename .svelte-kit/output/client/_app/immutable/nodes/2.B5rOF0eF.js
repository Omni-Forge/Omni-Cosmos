import{d as T,a as i,t as b,b as _}from"../chunks/disclose-version.8BCKBZeZ.js";import{i as vt}from"../chunks/legacy.JKvBfz6W.js";import{f as M,p as pt,a as ut,k as a,t as $,n as K,m as j,c as e,r as t,s as o,ab as gt}from"../chunks/utils.B3j9k9dF.js";import{l as L,s as R,o as _t,i as G}from"../chunks/index-client.vpHALhMJ.js";import{I,e as W,i as Z}from"../chunks/Icon.WfHMXW0d.js";import{c as mt}from"../chunks/svelte-component.Bcyrjch7.js";import{s as B,c as xt}from"../chunks/class.d3Mrvd7d.js";function ht(v,d){const c=L(d,["children","$$slots","$$events","$$legacy"]);I(v,R({name:"activity"},()=>c,{iconNode:[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]],children:(s,N)=>{var n=T(),p=M(n);B(p,d,"default",{},null),i(s,n)},$$slots:{default:!0}}))}function ft(v,d){const c=L(d,["children","$$slots","$$events","$$legacy"]);I(v,R({name:"cloud"},()=>c,{iconNode:[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]],children:(s,N)=>{var n=T(),p=M(n);B(p,d,"default",{},null),i(s,n)},$$slots:{default:!0}}))}function yt(v,d){const c=L(d,["children","$$slots","$$events","$$legacy"]);I(v,R({name:"database"},()=>c,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:(s,N)=>{var n=T(),p=M(n);B(p,d,"default",{},null),i(s,n)},$$slots:{default:!0}}))}function $t(v,d){const c=L(d,["children","$$slots","$$events","$$legacy"]);I(v,R({name:"loader-circle"},()=>c,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]],children:(s,N)=>{var n=T(),p=M(n);B(p,d,"default",{},null),i(s,n)},$$slots:{default:!0}}))}function bt(v,d){const c=L(d,["children","$$slots","$$events","$$legacy"]);I(v,R({name:"server"},()=>c,{iconNode:[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18"}]],children:(s,N)=>{var n=T(),p=M(n);B(p,d,"default",{},null),i(s,n)},$$slots:{default:!0}}))}var wt=b('<div class="flex justify-center py-8"><!></div>'),At=b('<div class="bg-red-800 border border-red-600 text-red-200 px-4 py-3 rounded"> </div>'),Nt=b('<div class="bg-neutral-900 rounded-lg shadow p-6"><div class="flex items-start"><div class="inline-flex p-3 rounded-lg bg-gray-800"><!></div> <div class="ml-4"><h3 class="text-base font-normal text-gray-400"> </h3> <p class="mt-1 text-2xl font-semibold text-white"> </p> <p class="mt-1 text-sm text-gray-500"> </p></div></div></div>'),St=b('<tr class="bg-neutral-800 border-b border-neutral-700 hover:bg-neutral-700"><td class="px-6 py-4 font-medium text-blue-400 hover:underline"> </td><td class="px-6 py-4"><span> </span></td><td class="px-6 py-4"> </td><td class="px-6 py-4"> </td></tr>'),kt=b('<p class="text-sm text-gray-400"> </p>'),Dt=b('<div class="flex gap-4 items-start"><div class="w-2 h-2 mt-2 rounded-full bg-blue-500"></div> <div><p class="font-medium text-white"> </p> <!> <p class="text-xs text-gray-500 mt-1"> </p></div></div>'),Ut=b('<p class="text-gray-400 text-center py-4">No recent activity</p>'),Mt=b('<div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="bg-neutral-900 rounded-lg shadow-lg lg:col-span-2"><div class="px-6 py-4 border-b border-neutral-700"><h2 class="text-lg font-semibold text-white">Recent Applications</h2></div> <div class="p-6"><div class="relative overflow-x-auto"><table class="w-full text-sm text-left text-gray-400"><thead class="text-xs text-gray-500 uppercase bg-neutral-800"><tr><th class="px-6 py-3">Name</th><th class="px-6 py-3">Status</th><th class="px-6 py-3">Stack</th><th class="px-6 py-3">Last Updated</th></tr></thead><tbody></tbody></table></div></div></div> <div class="rounded-lg shadow-lg bg-neutral-900"><div class="px-6 py-4 border-b border-gray-700"><h2 class="text-lg font-semibold text-white">Recent Activity</h2></div> <div class="p-6"><div class="space-y-4"><!> <!></div></div></div></div>',1),Pt=b('<div class="space-y-6 min-h-screen bg-neutral-950 text-gray-300"><!></div>');function Bt(v,d){pt(d,!1);let c=K(!0),w=K(null),s={apps:{total:0,running:0,crashed:0},services:{total:0,bound:0},memory:{used_gb:0,total_gb:0,used_percentage:0},instances:{total:0,running:0,crashed:0}},N=K([]),n=[];const p=[{guid:"1",name:"test-app",state:"STARTED",updated_at:new Date().toISOString(),lifecycle:{data:{stack:"cflinuxfs4"}}}];async function lt(){try{j(N,p),j(c,!1)}catch(u){j(w,"Failed to load dashboard data"),console.error(u)}finally{j(c,!1)}}function nt(u){switch(u){case"STARTED":return"text-green-400 bg-green-800";case"STOPPED":return"text-gray-400 bg-gray-800";case"CRASHED":return"text-red-400 bg-red-800";default:return"text-blue-400 bg-blue-800"}}function dt(u){var m,P,E;return((E=(P=(m=u==null?void 0:u.replace("audit.",""))==null?void 0:m.split("."))==null?void 0:P.map(x=>x.charAt(0).toUpperCase()+x.slice(1)))==null?void 0:E.join(" "))||"Unknown Event"}const ot=[{name:"Applications",value:()=>`${s.apps.running}/${s.apps.total}`,icon:ft,subtitle:()=>"All healthy"},{name:"Services",value:()=>`${s.services.bound}/${s.services.total}`,icon:yt,subtitle:()=>"Bound Services"},{name:"Memory Usage",value:()=>`${s.memory.used_gb}GB`,icon:bt,subtitle:()=>`${s.memory.used_percentage}% of ${s.memory.total_gb}GB`},{name:"App Instances",value:()=>`${s.instances.running}/${s.instances.total}`,icon:ht,subtitle:()=>"All healthy"}];_t(lt),vt();var V=Pt(),it=e(V);G(it,()=>a(c),u=>{var m=wt(),P=e(m);$t(P,{class:"w-8 h-8 animate-spin text-gray-400"}),t(m),i(u,m)},u=>{var m=T(),P=M(m);G(P,()=>a(w),E=>{var x=At(),z=e(x,!0);t(x),$(()=>_(z,a(w))),i(E,x)},E=>{var x=Mt(),z=M(x);W(z,5,()=>ot,Z,(S,r)=>{var g=Nt(),h=e(g),f=e(h),k=e(f);mt(k,()=>a(r).icon,(H,O)=>{O(H,{class:"w-6 h-6 text-blue-400"})}),t(f);var y=o(f,2),A=e(y),C=e(A,!0);t(A);var l=o(A,2),D=e(l,!0);$(()=>_(D,a(r).value())),t(l);var U=o(l,2),F=e(U,!0);$(()=>_(F,a(r).subtitle())),t(U),t(y),t(h),t(g),$(()=>_(C,a(r).name)),i(S,g)}),t(z);var J=o(z,2),q=e(J),Q=o(e(q),2),X=e(Q),Y=e(X),tt=o(e(Y));W(tt,5,()=>a(N),Z,(S,r)=>{var g=St(),h=e(g),f=e(h,!0);t(h);var k=o(h),y=e(k);const A=gt(()=>`px-2 py-1 text-xs font-medium rounded-full ${nt(a(r).state)}`);var C=e(y,!0);t(y),t(k);var l=o(k),D=e(l,!0);t(l);var U=o(l),F=e(U,!0);$(()=>_(F,a(r).updated_at?new Date(a(r).updated_at).toLocaleString():"Never")),t(U),t(g),$(()=>{var H,O;_(f,a(r).name||"Unnamed App"),xt(y,a(A)),_(C,a(r).state||"UNKNOWN"),_(D,((O=(H=a(r).lifecycle)==null?void 0:H.data)==null?void 0:O.stack)||"Unknown Stack")}),i(S,g)}),t(tt),t(Y),t(X),t(Q),t(q);var et=o(q,2),at=o(e(et),2),rt=e(at),st=e(rt);W(st,1,()=>n,Z,(S,r)=>{var g=Dt(),h=o(e(g),2),f=e(h),k=e(f,!0);$(()=>{var l;return _(k,dt((l=a(r))==null?void 0:l.type))}),t(f);var y=o(f,2);G(y,()=>{var l;return(l=a(r))==null?void 0:l.target},l=>{var D=kt(),U=e(D);t(D),$(()=>_(U,`${(a(r).target.name||"Unnamed")??""} (${(a(r).target.type||"unknown")??""})`)),i(l,D)});var A=o(y,2),C=e(A,!0);$(()=>{var l;return _(C,(l=a(r))!=null&&l.created_at?new Date(a(r).created_at).toLocaleString():"Unknown time")}),t(A),t(h),t(g),i(S,g)});var ct=o(st,2);G(ct,()=>n.length===0,S=>{var r=Ut();i(S,r)}),t(rt),t(at),t(et),t(J),i(E,x)},!0),i(u,m)}),t(V),i(v,V),ut()}export{Bt as component};
