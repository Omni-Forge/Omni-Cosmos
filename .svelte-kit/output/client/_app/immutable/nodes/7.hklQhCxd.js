import{c as X,a as m,t as I}from"../chunks/disclose-version.N1JcEE3x.js";import{i as nt}from"../chunks/legacy.Bq8hjaPg.js";import{f as Z,p as lt,l as Tt,b as h,m as N,e as Zt,g as e,aN as he,c as a,s,t as G,a as it,r as t,ab as Wt,n as et}from"../chunks/runtime.BpsoJ9mv.js";import{s as me,b as be,e as M,a as P}from"../chunks/store.CIqAHlUC.js";import{i as ot,c as ge,o as xe,a as _e}from"../chunks/index-client.CY8cH23_.js";import{I as ct,e as at,i as st}from"../chunks/Icon.oS-Lt7LZ.js";import{s as dt,c as Xt,a as Et,r as At}from"../chunks/attributes.C59D3o5x.js";import{s as Qt}from"../chunks/class.DrSk-6wP.js";import{p as Ct}from"../chunks/stores.8gzRtGeB.js";import{b as ye}from"../chunks/input.BWE0VUSD.js";import{c as Jt}from"../chunks/svelte-component.Czu3wW4G.js";import{l as pt,s as vt,p as Yt}from"../chunks/props.Du0vtbS7.js";import{E as $e,R as te,T as ee,a as we}from"../chunks/trash-2.BNc7LL0F.js";import{P as ae}from"../chunks/play.B-PMHxGu.js";import{a as se,S as Se,A as ke}from"../chunks/square.ChP9UFil.js";import{S as Me}from"../chunks/settings.0d0QYzLT.js";import{g as re}from"../chunks/index.CEIXVWp1.js";import{X as Ae}from"../chunks/x.DKvme5mQ.js";import{a as De,G as Dt}from"../chunks/github.DIlpr-AP.js";import{P as Te}from"../chunks/plus.DRRX1CZ4.js";import{A as Ee}from"../chunks/activity.D1clQjx8.js";import{S as oe}from"../chunks/server.CxxYWvAu.js";import{M as Ce,C as Pe}from"../chunks/memory-stick.eMLVWtN5.js";function Ie(g,c){const v=pt(c,["children","$$slots","$$events","$$legacy"]);ct(g,vt({name:"file"},()=>v,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}]],children:(d,$)=>{var r=X(),o=Z(r);dt(o,c,"default",{},null),m(d,r)},$$slots:{default:!0}}))}function Re(g,c){const v=pt(c,["children","$$slots","$$events","$$legacy"]);ct(g,vt({name:"folder"},()=>v,{iconNode:[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]],children:(d,$)=>{var r=X(),o=Z(r);dt(o,c,"default",{},null),m(d,r)},$$slots:{default:!0}}))}function Ne(g,c){const v=pt(c,["children","$$slots","$$events","$$legacy"]);ct(g,vt({name:"list"},()=>v,{iconNode:[["path",{d:"M3 12h.01"}],["path",{d:"M3 18h.01"}],["path",{d:"M3 6h.01"}],["path",{d:"M8 12h13"}],["path",{d:"M8 18h13"}],["path",{d:"M8 6h13"}]],children:(d,$)=>{var r=X(),o=Z(r);dt(o,c,"default",{},null),m(d,r)},$$slots:{default:!0}}))}function Le(g,c){const v=pt(c,["children","$$slots","$$events","$$legacy"]);ct(g,vt({name:"upload"},()=>v,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(d,$)=>{var r=X(),o=Z(r);dt(o,c,"default",{},null),m(d,r)},$$slots:{default:!0}}))}var je=I('<button class="w-full flex items-center space-x-2 px-4 py-2 hover:bg-neutral-800 text-left transition-colors first:rounded-t-lg last:rounded-b-lg"><!> <span> </span></button>'),ze=I('<div class="absolute right-0 mt-2 w-48 bg-neutral-900 border border-neutral-800 rounded-lg shadow-lg z-50"></div>'),Ge=I('<div class="relative menu-container"><button class="p-2 hover:bg-neutral-800 rounded-lg transition-colors"><!></button> <!></div>');function Oe(g,c){lt(c,!1);const v=me(),u=()=>be(Ct,"$page",v),d=N(),$=N();let r=Yt(c,"app",8),o=N(!1);const w=[{icon:ae,label:"Start All",action:()=>console.log("Start",r().guid)},{icon:se,label:"Stop All",action:()=>console.log("Stop",r().guid)},{icon:te,label:"Restart All",action:()=>console.log("Restart",r().guid)},{icon:ee,label:"Routes",action:()=>console.log("Edit Routes",r().guid)},{icon:Ne,label:"Variables",action:()=>console.log("Variables",r().guid)},{icon:Ie,label:"Log Stream",action:()=>console.log("Log Stream",r().guid)},{icon:Me,label:"Scale Config",action:()=>window.location.href=`/app/org/${r().org_guid}/space/${e(d)}/app/${e($)}/scale`},{icon:we,label:"Delete App",action:()=>console.log("Delete",r().guid)}];function p(D){e(o)&&!D.target.closest(".menu-container")&&h(o,!1)}Tt(()=>u(),()=>{h(d,u().params.spaceId)}),Tt(()=>u(),()=>{h($,u().params.appId)}),Zt(),nt();var _=Ge();M("click",he,p);var S=a(_),A=a(S);$e(A,{class:"w-4 h-4"}),t(S);var R=s(S,2);ot(R,()=>e(o),D=>{var k=ze();at(k,5,()=>w,st,(z,b)=>{var x=je(),E=a(x);Jt(E,()=>e(b).icon,(C,y)=>{y(C,{class:"w-4 h-4"})});var l=s(E,2),f=a(l,!0);t(l),t(x),G(()=>P(f,e(b).label)),M("click",x,()=>{e(b).action(),h(o,!1)}),m(z,x)}),t(k),m(D,k)}),t(_),M("click",S,()=>h(o,!e(o))),m(g,_),it()}var He=I('<button class="flex flex-col items-center text-center p-6 rounded-lg bg-neutral-800 hover:bg-neutral-700 transition-colors border border-neutral-700 hover:border-neutral-600"><!> <h3 class="text-lg font-medium text-white mb-2"> </h3> <p class="text-sm text-gray-400"> </p></button>'),Fe=I('<div class="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"><div class="bg-neutral-900 rounded-lg w-full max-w-4xl p-6 overflow-y-auto max-h-[90vh]"><div class="flex justify-between items-center mb-6"><h2 class="text-xl font-semibold text-white">Select Deployment Source</h2> <button class="text-gray-400 hover:text-white transition-colors"><!></button></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div></div></div>');function Ke(g,c){lt(c,!1);let v=Yt(c,"show",12,!1);const u=ge(),d=[{id:"github",name:"GitHub",description:"Deploy from GitHub repository",icon:De,color:"text-white"},{id:"gitlab",name:"GitLab",description:"Deploy from GitLab project",icon:Dt,color:"text-orange-400"},{id:"git",name:"Public Git URL",description:"Deploy from any Git repository",icon:Dt,color:"text-blue-400"},{id:"docker",name:"Docker Image",description:"Deploy from container image",icon:Dt,color:"text-blue-400"},{id:"archive",name:"Application Archive",description:"Upload and deploy archive file",icon:Le,color:"text-purple-400"},{id:"folder",name:"Application Folder",description:"Deploy from local folder",icon:Re,color:"text-yellow-400"},{id:"shell",name:"Application Shell",description:"Create new app from scratch",icon:ee,color:"text-green-400"}];function $(p){u("select",p),v(!1)}function r(){v(!1),u("close")}nt();var o=X(),w=Z(o);ot(w,v,p=>{var _=Fe(),S=a(_),A=a(S),R=s(a(A),2),D=a(R);Ae(D,{class:"w-5 h-5"}),t(R),t(A);var k=s(A,2);at(k,5,()=>d,st,(z,b)=>{var x=He(),E=a(x);Jt(E,()=>e(b).icon,(T,O)=>{O(T,{get class(){return`w-12 h-12 mb-4 ${e(b).color??""}`}})});var l=s(E,2),f=a(l,!0);t(l);var C=s(l,2),y=a(C,!0);t(C),t(x),G(()=>{P(f,e(b).name),P(y,e(b).description)}),M("click",x,()=>$(e(b))),m(z,x)}),t(k),t(S),t(_),M("click",R,r),m(p,_)}),m(g,o),it()}var Ue=I('<div class="text-sm"> </div>'),Be=I('<tr class="border-b border-neutral-800 hover:bg-neutral-900/50"><td class="p-4"><input type="checkbox" class="rounded border-neutral-700 text-blue-500 focus:ring-blue-500"></td><td class="p-4"><a class="text-white hover:text-blue-400"> </a> <div class="text-sm text-gray-400"> </div></td><td class="p-4"><div class="flex items-center space-x-2"><!> <span> </span></div></td><td class="p-4"><div class="flex items-center space-x-2"><!> <span> </span></div></td><td class="p-4"><div class="flex items-center space-x-2"><!> <span> </span></div></td><td class="p-4"><div class="flex items-center space-x-2"><!> <span> </span></div></td><td class="p-4"><div class="space-y-1"></div></td><td class="p-4"><!></td></tr>'),Ve=I('<div class="h-full flex flex-col"><!> <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 mb-6"><div class="relative w-full sm:w-96"><!> <input type="text" placeholder="Search applications..." class="w-full pl-10 pr-4 py-2 bg-neutral-900 border border-neutral-800 rounded-lg focus:outline-none focus:border-blue-500"></div> <div class="flex space-x-3 w-full sm:w-auto"><button class="flex-1 sm:flex-none flex items-center justify-center space-x-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-lg transition-colors disabled:opacity-50"><!> <span>Start</span></button> <button class="flex-1 sm:flex-none flex items-center justify-center space-x-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-lg transition-colors disabled:opacity-50"><!> <span>Stop</span></button> <button class="flex-1 sm:flex-none flex items-center justify-center space-x-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-lg transition-colors disabled:opacity-50"><!> <span>Restart</span></button> <button class="flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors"><!> <span>Deploy Application</span></button></div></div> <div class="flex-1"><table class="w-full"><thead><tr class="text-left border-b border-neutral-800"><th class="p-4"><input type="checkbox" class="rounded border-neutral-700 text-blue-500 focus:ring-blue-500"></th><th class="p-4 cursor-pointer"><div class="flex items-center space-x-2"><span>Name</span> <!></div></th><th class="p-4">Status</th><th class="p-4">Instances</th><th class="p-4">Memory</th><th class="p-4">CPU</th><th class="p-4">Routes</th><th class="p-4"></th></tr></thead><tbody></tbody></table></div></div>');function qe(g,c){lt(c,!1);const v=N(),{orgId:u,spaceId:d}=re(Ct).params,$=(n=20)=>{const i=["api","worker","frontend","backend","service","job","auth","cache","proxy","monitor"],L=["dev","staging","prod","test","demo"],B=["nodejs_buildpack","java_buildpack","python_buildpack","ruby_buildpack","go_buildpack","php_buildpack"],F=["STARTED","STOPPED","CRASHED"],J=[.7,.2,.1],V=()=>{const rt=Math.random();let K=0;for(let j=0;j<F.length;(j+=1)-1)if(K+=J[j],rt<K)return F[j];return F[0]};return Array.from({length:n},(rt,K)=>{const j=i[Math.floor(Math.random()*i.length)],q=L[Math.floor(Math.random()*L.length)],U=V(),Y=Math.floor(Math.random()*5)+1,xt=U==="STARTED"?Y:0,W=[256,512,1024,2048][Math.floor(Math.random()*4)],_t=B[Math.floor(Math.random()*B.length)],tt=new Date;return tt.setDate(tt.getDate()-Math.floor(Math.random()*90)),{guid:(K+1).toString(),name:`${j}-${q}-${Math.floor(Math.random()*1e3)}`,state:U,instances:Y,running_instances:xt,memory:W,disk_quota:W*2,cpu_usage:U==="STARTED"?Math.floor(Math.random()*95):0,urls:U==="STOPPED"?[]:[`${j}-${q}.apps.cf.example.com`],created_at:tt.toISOString(),buildpack:_t,stack:"cflinuxfs3"}})};let r=N(""),o=N("name"),w=N("asc"),p=N(new Set);const _=$(50);function S(n){e(o)===n?h(w,e(w)==="asc"?"desc":"asc"):(h(o,n),h(w,"asc"))}function A(n){switch(n){case"STARTED":return"text-green-400";case"STOPPED":return"text-gray-400";case"CRASHED":return"text-red-400";default:return"text-yellow-400"}}function R(n){return n>=1024?`${(n/1024).toFixed(1)}GB`:`${n}MB`}function D(n){console.log(`Bulk ${n}:`,Array.from(e(p)))}let k=N(!1);function z(n){const i=n.detail;window.location.href=`/app/org/${u}/space/${d}/deploy?source=${i.id}`}Tt(()=>(e(r),e(w),e(o)),()=>{h(v,_.filter(n=>n.name.toLowerCase().includes(e(r).toLowerCase())).sort((n,i)=>{const L=e(w)==="asc"?1:-1;return n[e(o)]>i[e(o)]?L:-L}))}),Zt(),nt();var b=Ve(),x=a(b);Ke(x,{get show(){return e(k)},set show(n){h(k,n)},$$events:{select:z,close:()=>h(k,!1)},$$legacy:!0});var E=s(x,2),l=a(E),f=a(l);Se(f,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"});var C=s(f,2);At(C),t(l);var y=s(l,2),T=a(y),O=a(T);ae(O,{class:"w-4 h-4"}),et(2),t(T);var H=s(T,2),ut=a(H);se(ut,{class:"w-4 h-4"}),et(2),t(H);var Q=s(H,2),ne=a(Q);te(ne,{class:"w-4 h-4"}),et(2),t(Q);var ft=s(Q,2),le=a(ft);Te(le,{class:"w-4 h-4"}),et(2),t(ft),t(y),t(E);var Pt=s(E,2),It=a(Pt),ht=a(It),Rt=a(ht),mt=a(Rt),bt=a(mt);At(bt),t(mt);var gt=s(mt),Nt=a(gt),ie=s(a(Nt),2);ke(ie,{class:"w-4 h-4"}),t(Nt),t(gt),et(6),t(Rt),t(ht);var Lt=s(ht);at(Lt,5,()=>e(v),st,(n,i)=>{var L=Be(),B=a(L),F=a(B);At(F),G(()=>Xt(F,e(p).has(e(i).guid))),t(B);var J=s(B),V=a(J),rt=a(V,!0);t(V);var K=s(V,2),j=a(K,!0);t(K),t(J);var q=s(J),U=a(q),Y=a(U),xt=Wt(()=>`w-4 h-4 ${A(e(i).state)??""}`);Ee(Y,{get class(){return e(xt)}});var W=s(Y,2);const _t=Wt(()=>A(e(i).state));var tt=a(W,!0);t(W),t(U),t(q);var yt=s(q),jt=a(yt),zt=a(jt);oe(zt,{class:"w-4 h-4 text-blue-400"});var Gt=s(zt,2),ce=a(Gt);t(Gt),t(jt),t(yt);var $t=s(yt),Ot=a($t),Ht=a(Ot);Ce(Ht,{class:"w-4 h-4 text-blue-400"});var Ft=s(Ht,2),de=a(Ft,!0);G(()=>P(de,R(e(i).memory))),t(Ft),t(Ot),t($t);var wt=s($t),Kt=a(wt),Ut=a(Kt);Pe(Ut,{class:"w-4 h-4 text-blue-400"});var Bt=s(Ut,2),pe=a(Bt);t(Bt),t(Kt),t(wt);var St=s(wt),Vt=a(St);at(Vt,5,()=>e(i).urls,st,(kt,ue)=>{var Mt=Ue(),fe=a(Mt,!0);t(Mt),G(()=>P(fe,e(ue))),m(kt,Mt)}),t(Vt),t(St);var qt=s(St),ve=a(qt);Oe(ve,{get app(){return e(i)}}),t(qt),t(L),G(()=>{Et(V,"href",`./${d??""}/app/${e(i).guid??""}`),P(rt,e(i).name),P(j,e(i).buildpack),Qt(W,e(_t)),P(tt,e(i).state),P(ce,`${e(i).running_instances??""}/${e(i).instances??""}`),P(pe,`${e(i).cpu_usage??""}%`)}),M("change",F,kt=>{kt.target.checked?e(p).add(e(i).guid):e(p).delete(e(i).guid),h(p,e(p))}),m(n,L)}),t(Lt),t(It),t(Pt),t(b),G(()=>{T.disabled=e(p).size===0,H.disabled=e(p).size===0,Q.disabled=e(p).size===0,Xt(bt,e(p).size===_.length)}),ye(C,()=>e(r),n=>h(r,n)),M("click",T,()=>D("start")),M("click",H,()=>D("stop")),M("click",Q,()=>D("restart")),M("click",ft,()=>h(k,!0)),M("change",bt,n=>{h(p,n.target.checked?new Set(_.map(i=>i.guid)):new Set)}),M("click",gt,()=>S("name")),m(g,b),it()}var We=I('<button><div class="flex items-center gap-2"><span> </span> <span class="inline-block px-1.5 py-0.5 text-xs font-medium bg-neutral-800 text-gray-400 rounded border border-neutral-700 shadow-sm"></span></div></button>'),Xe=I('<h1 class="text-lg">NOT IMPLEMENTED</h1>'),Ze=I('<div class="flex flex-col h-screen bg-neutral-950 text-gray-300"><div class="flex-none p-6 pb-10"><div class="flex justify-between items-center mb-6"><div class="text-sm text-gray-400"><a href="/app/orgs" class="hover:text-white transition-colors">Organizations</a> <span class="mx-2">/</span> <a class="hover:text-white transition-colors"></a> <span class="mx-2">/</span> <a class="hover:text-white transition-colors"></a> <span class="mx-2">/</span> <span>Apps/</span> <div class="flex items-center space-x-3 pt-5"><!> <h1 class="text-2xl font-semibold text-white"></h1></div></div></div> <div class="border-b border-gray-700"><nav class="-mb-px flex space-x-8"></nav></div></div> <div class="flex-1 min-h-0 p-6 pt-0"><!></div></div>');function _a(g,c){lt(c,!1);const{orgId:v,spaceId:u}=re(Ct).params;let d=N("Applications");const $=["Applications","Access Control"];function r(l){const f=parseInt(l.key);f>=1&&f<=6&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&!l.shiftKey&&(["INPUT","TEXTAREA"].includes(l.target.tagName)||(l.preventDefault(),h(d,$[f-1])))}xe(()=>{window.addEventListener("keydown",r)}),_e(()=>{window.removeEventListener("keydown",r)}),nt();var o=Ze(),w=a(o),p=a(w),_=a(p),S=s(a(_),4);Et(S,"href",`/app/org/${v??""}`),S.textContent=v;var A=s(S,4);Et(A,"href",`/app/org/${v??""}/space/${u??""}`),A.textContent=u;var R=s(A,6),D=a(R);oe(D,{class:"w-6 h-6 text-blue-400"});var k=s(D,2);k.textContent=`Space ${u??""}`,t(R),t(_),t(p);var z=s(p,2),b=a(z);at(b,5,()=>$,st,(l,f,C)=>{var y=We(),T=a(y),O=a(T),H=a(O,!0);t(O);var ut=s(O,2);ut.textContent=C+1,t(T),t(y),G(()=>{Qt(y,`py-2 px-1 border-b-2 ${(e(d)===e(f)?"border-blue-500 text-blue-500":"border-transparent hover:border-gray-700 hover:text-gray-200")??""}`),P(H,e(f))}),M("click",y,()=>h(d,e(f))),m(l,y)}),t(b),t(z),t(w);var x=s(w,2),E=a(x);ot(E,()=>e(d)==="Applications",l=>{qe(l,{})},l=>{var f=X(),C=Z(f);ot(C,()=>e(d)==="Access Control",y=>{var T=Xe();m(y,T)},null,!0),m(l,f)}),t(x),t(o),m(g,o),it()}export{_a as component};
